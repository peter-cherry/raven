/* Maplibre GL CSS */
@import 'maplibre-gl/dist/maplibre-gl.css';

/* Hide default Maplibre controls */
.maplibregl-ctrl-top-right,
.maplibregl-ctrl-bottom-right,
.maplibregl-ctrl-top-left,
.maplibregl-ctrl-bottom-left {
  display: none !important;
}

/* Jobs icon jump animation */
@keyframes jumpIcon {
  0% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
  100% { transform: translateY(0); }
}

/* Agent status pulse animation */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/*
==============================================================================
RAVENSEARCH DESIGN SYSTEM - RULES & CONSISTENCY GUIDE
==============================================================================

CORE PRINCIPLES:
1. All strokes/borders are white with rgba(255, 255, 255, 0.5)
2. All buttons have NO borders/strokes (documented exception)
3. All section titles use Futura-Bold font
4. All X (close) buttons are white
5. All SVG icons have stroke-width: 1.4 (matching X button consistency)
6. Border radius: 8px for containers, inputs, checkboxes (via --container-border-radius)
7. Border radius: 10px for buttons (consistent button styling)
8. Border radius: 16px for modals (via --modal-border-radius)

OVERLAY MODAL PATTERN (MANDATORY - READ THIS FIRST!!!):
⚠️ CRITICAL: ALL new pages/forms/detail views MUST be overlay modals, NOT full pages!
⚠️ User must ALWAYS see the homepage/background behind the overlay (transparent backdrop)

MANDATORY Pattern for ANY new page:
1. Create as OVERLAY MODAL (never as route/page unless explicitly a landing page)
2. Use .policy-modal-overlay class (position: fixed; inset: 0; semi-transparent backdrop)
3. Use .policy-modal-card class (centered card floating on top)
4. Background MUST allow seeing through to homepage behind it
5. Never create opaque full-page views

Example Structure (JSX):
  - Outer div: className="policy-modal-overlay" onClick={onClose}
  - Inner div: className="policy-modal-card" onClick={(e) => e.stopPropagation()}
  - Content goes inside the inner div

When NOT to use overlay:
- Landing pages (/, /landing, /login, /signup)
- Homepage with search
- Any page explicitly marked as "full page" by user

BUTTON STYLING (MANDATORY FOR ALL ACTION BUTTONS):
Primary Action Buttons (.primary-button):
- Background: transparent (no background by default)
- Border: none (no strokes/borders)
- Border radius: 10px
- Padding: 12px 24px
- Font: 600 weight, 15px size
- Transition: all 0.2s

Hover State:
- Background: rgba(108, 114, 201, 0.15) - Purple glassmorphic effect
- Transform: translateY(-1px) - Subtle lift animation

Disabled State:
- Opacity: 0.5
- Cursor: not-allowed
- Transform: none (no lift)

STROKE/BORDER CONSISTENCY:
- Sidebar: 1px solid rgba(255, 255, 255, 0.5)
- Modal headers/footers: 1px solid rgba(255, 255, 255, 0.5)
- Text inputs: 2px solid rgba(255, 255, 255, 0.5)
- Checkboxes (checked): 2px solid rgba(255, 255, 255, 0.5)
- Buttons: NO borders (transparent background, no stroke)

GLASSMORPHIC EFFECTS (Sidebar-style):
When applying glassmorphic effects, always include:
- background: rgba(47, 47, 47, 0.95)
- backdrop-filter: blur(12px)
- -webkit-backdrop-filter: blur(12px)
- filter: brightness(1.15)

GLASSMORPHIC EFFECTS (White/Light - for checked states):
When applying white glassmorphic effects:
- background: rgba(255, 255, 255, 0.15)
- border: 2px solid rgba(255, 255, 255, 0.5)
- backdrop-filter: blur(12px)
- -webkit-backdrop-filter: blur(12px)
- filter: brightness(1.15)

SPACING CONSISTENCY:
- Section spacing: var(--spacing-xl), var(--spacing-2xl), var(--spacing-3xl)
- Internal padding: 12px, 16px, 20px, 24px
- Gap between elements: 8px, 12px, 16px, 20px

TABLE STYLING:
- Table borders: 1px solid rgba(255, 255, 255, 0.3) (reduced opacity for subtlety)
- Table hover: var(--container-hover-bg) with var(--transition-hover)
- All table rows should have smooth transitions
- Header text: uppercase, var(--text-secondary), 13px, 0.5px letter-spacing

TYPOGRAPHY:
- Section titles: var(--font-section-title) = 'Futura-Bold'
- Body text: var(--font-text-body)
- All fonts should use CSS variables for consistency

COLOR USAGE:
- Primary text: var(--text-primary) = #FFFFFF
- Secondary text: var(--text-secondary) = #A0A0A8
- Accent: var(--accent-primary) = #656290
- Success: var(--success) = #10B981
- Warning: var(--warning) = #F59E0B
- Error: var(--error) = #EF4444

==============================================================================
*/

/* Ravensearch Design System */
:root {
  --bg-primary: #2F2F2F;
  --bg-secondary: #2F2F2F;
  --bg-card: #2F2F2F;
  --accent-primary: #7E7AA8;
  --accent-secondary: #8083AE;
  --text-primary: #FFFFFF;
  --text-secondary: #F9F3E5;
  --border-subtle: #656290;
  --border-accent: #656290;
  --success: #10B981;
  --warning: #F59E0B;
  --error: #EF4444;

  /* Modal / Overlay Settings */
  --modal-bg: rgba(47, 47, 47, 0.3);
  --modal-backdrop-blur: blur(12px);
  --modal-border: 1px solid rgba(249, 243, 229, 0.33);
  --modal-border-radius: 16px;
  --modal-shadow: 0px 0px 22.9px rgba(0, 0, 0, 0.21);
  --z-modal-backdrop: 9999;

  /* Container Settings */
  --container-bg: rgba(178, 173, 201, 0.05);
  --container-border: 1px solid rgba(249, 243, 229, 0.33);
  --container-border-radius: 8px;
  --container-hover-bg: rgba(178, 173, 201, 0.15);
  --container-hover-border: rgba(249, 243, 229, 0.3);
  --container-active-hover-bg: rgba(178, 173, 201, 0.2);

  /* Typography - All section titles use Futura-Bold */
  --font-section-title: 'Futura-Bold', 'Futura', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-section-title-size: 32px;
  --font-section-title-weight: 700;
  --font-text-body: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --font-text-body-size: 12px;
  --font-text-title-size: 14px;
  --text-placeholder: #454654;
  --stroke-primary: #656290;
  --stroke-subtle: rgba(249, 243, 229, 0.33);

  /* Icon Settings */
  --icon-size-xs: 16px;
  --icon-size-sm: 18px;
  --icon-size-md: 20px;
  --icon-size-lg: 24px;
  --icon-size-xl: 32px;
  --icon-color-primary: var(--text-primary);
  --icon-color-secondary: var(--text-secondary);
  --icon-color-accent: var(--stroke-primary);
  --icon-color-muted: var(--text-placeholder);
  --icon-stroke-width: 2px;
  --icon-stroke-width-thin: 1.5px;
  --icon-stroke-width-thick: 2.5px;

  /* Form Input Settings */
  --input-stroke-color: rgba(255, 255, 255, 0.5);

  /* Button Settings */
  --btn-corner-radius: 6px;
  --btn-text-color: #CCCCCC;
  --btn-text-color-hover: #FFFFFF;
  --btn-text-padding: 12px 32px;
  --btn-text-font-size: 18px;
  --transition-hover: 0.2s;

  /* Sidebar */
  --sidebar-width: 68px;

  /* Job Status Colors */
  --job-status-active-bg: rgba(237, 212, 178, 0.10);
  --job-status-active-inner-start: #FAC385;
  --job-status-active-inner-end: #FCBF71;
  --job-status-unassigned-bg: rgba(45, 35, 84, 0.10);
  --job-status-unassigned-inner: rgba(21, 20, 19, 0.62);
  --job-status-completed-bg: rgba(121, 148, 123, 0.10);
  --job-status-completed-inner: #5B6F5C;
  --job-status-archived-bg: rgba(51, 51, 51, 0.10);
  --job-status-archived-inner: rgba(51, 51, 51, 0.56);

  /* Technician Card */
  --tech-card-bg: rgba(184, 181, 223, 0.084);
  --tech-card-bg-collapsed: rgba(208, 204, 221, 0.035);
  --tech-card-hover-bg: rgba(178, 173, 201, 0.15);
  --tech-avatar-bg: #2A2A2A;
  --tech-rating-high: #83C596;
  --tech-rating-medium: #9a96d5;
  --tech-skill-badge-bg: rgba(154, 150, 213, 0.156);
  --tech-skill-badge-border: rgba(154, 150, 213, 0.24);
  --tech-gradient-overlay: rgba(154, 150, 213, 0.4);

  /* Stats Display */
  --stats-bg-warm: rgba(16, 185, 129, 0.1);
  --stats-border-warm: rgba(16, 185, 129, 0.3);
  --stats-text-warm: #059669;
  --stats-progress-warm-start: rgba(16, 185, 129, 0.8);
  --stats-progress-warm-end: rgba(5, 150, 105, 0.6);
  --stats-bg-cold: rgba(59, 130, 246, 0.1);
  --stats-border-cold: rgba(59, 130, 246, 0.3);
  --stats-text-cold: #2563eb;
  --stats-progress-cold-start: rgba(59, 130, 246, 0.8);
  --stats-progress-cold-end: rgba(37, 99, 235, 0.6);

  /* Font Size Scale */
  --font-xs: 10px;
  --font-sm: 11px;
  --font-md: 13px;
  --font-lg: 16px;
  --font-xl: 18px;
  --font-2xl: 20px;
  --font-3xl: 28px;
  --font-4xl: 36px;

  /* Spacing Scale */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 12px;
  --spacing-lg: 16px;
  --spacing-xl: 24px;
  --spacing-2xl: 32px;
  --spacing-3xl: 40px;
  --spacing-4xl: 48px;
  --spacing-5xl: 64px;

  /* Map Styling */
  --map-road-color: #d4d4d4;
  --map-road-secondary: #b8b8b8;
  --map-building-light: #d4d4d4;
  --map-building-dark: #b8b8b8;
  --map-background: #2f2f2f;
  --map-background-hex: 0x2f2f2f;
  --map-poi-bg: #4C4D5A;
  --map-poi-bg-hex: 0x4C4D5A;
  --map-terrain-bg: #1a1a1a;
  --map-terrain-bg-hex: 0x1a1a1a;
  --map-marker-job: #FFFFFF;
  --map-marker-tech-1: #83C596;
  --map-marker-tech-2: #C5839C;
  --map-marker-tech-3: #B8C583;
  --map-marker-tech-4: #C5AC83;
  --map-zoom-btn-bg: rgba(47, 47, 47, 0.9);
  --map-zoom-btn-border: rgba(249, 243, 229, 0.43);
  --map-zoom-btn-text: #CCCCCC;

  /* Empty State */
  --empty-state-icon: rgba(186, 179, 196, 0.4);
  --empty-state-padding: 64px 32px;
  --empty-state-min-height: 300px;

  /* Layout Dimensions - Dispatch Modal */
  --dispatch-modal-width: 915px;
  --dispatch-modal-height: 800px;
  --dispatch-modal-offset-x: 400px;
  --dispatch-modal-offset-y: 45px;
  --dispatch-wo-box-width: 387px;
  --dispatch-wo-box-height: 400px;
  --dispatch-map-width: 812px;
  --dispatch-map-height: 400px;
  --dispatch-progress-width: 387px;
  --dispatch-progress-height: 400px;
  --dispatch-techs-width: 380px;
  --dispatch-techs-height: 400px;

  /* Job Detail Overlay - Specific Variables */
  --job-detail-status-badge-padding: 4px 12px;
  --job-detail-status-badge-radius: 6px;
  --job-detail-status-opacity: 0.13;  /* 22 in hex = 13% opacity for badge backgrounds */
  --job-detail-icon-size: 20px;
  --job-detail-card-label-spacing: 0.5px;  /* letter-spacing for uppercase labels */

  /* Progress Bar */
  --progress-bar-height: 6px;
  --progress-bar-radius: 3px;

  /* Font Weights */
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;
}

* { box-sizing: border-box; }
html, body { height: 100%; margin: 0; }
body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-text-body);
  font-weight: var(--font-weight-regular);
  line-height: 1.6;
}

/* Ensure map control button icons are always visible */
[data-dispatch-modal] button svg {
  display: block;
  pointer-events: none;
}

.app-layout { display: flex; min-height: 100vh; }
/* Sidebar - All strokes are white, no purple */
.sidebar {
  width: 68px;
  background: rgba(47, 47, 47, 0.3);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-right: 1px solid rgba(154, 150, 213, 0.3);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding: 320px 0 52px 0;
  position: fixed;
  left: 0;
  top: 0;
  bottom: 0;
  height: 1075px;
  z-index: 10000;
  overflow: visible;
}
/* Decorative SVG background - hidden in new design */
.sidebar-svg-bg { display: none; }

/* Navigation stack */
.nav-stack {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 30px;
  width: 100%;
}
.nav-item {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  color: #656290;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
}
.nav-item:hover { color: #7C78A6; }
.nav-item.active { color: #9392AF; }
.nav-item::before { display: none; }
.nav-icon, .nav-emoji {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
}
.nav-item .nav-icon svg {
  display: block;
  width: 100%;
  height: 100%;
}
.nav-item .nav-icon svg path {
  fill: currentColor;
  transition: fill 0.2s;
}
.icon-glow { display: none; }
.bottom-push {
  position: absolute;
  bottom: 350px;
  left: 0;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* User profile circle at bottom */
.user-profile {
  width: 41px;
  height: 41px;
  background: #B4B4C4;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #656290;
  font-size: 24px;
  font-weight: 500;
}

/* Legacy icon styles kept for backwards compatibility */
.sidebar-icon { width: 40px; height: 40px; display: grid; place-items: center; color: var(--text-secondary); cursor: pointer; border-radius: 8px; transition: all 0.2s; }
.sidebar-icon:hover, .sidebar-icon.active { background: var(--accent-primary); color: white; }

.main-content { flex: 1; margin-left: 68px; position: relative; }

/* Top bar removed; keeping elements via header-elements */
.logo-section { display: flex; align-items: center; gap: 12px; }
.header-elements { display: flex; align-items: center; justify-content: space-between; padding: 16px 32px; position: relative; z-index: 3; }
.logo-icon { width: 32px; height: 32px; }
.header-elements .logo-icon { width: 132px; height: 132px; }
.brand-name { font-size: 18px; font-weight: 700; letter-spacing: 0.5px; color: var(--accent-secondary); }
.auth-buttons { display: flex; gap: 12px; align-items: center; opacity: 1; }

.content-area { padding: 32px; min-height: 100vh; position: relative; margin-left: 68px; }
/* Homepage background media */
.home-bg { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
.home-bg-video, .home-bg-img { width: 100%; height: 100%; object-fit: cover; display: block; }
.home-bg-fallback { position: absolute; inset: 0; background:
  radial-gradient(80% 50% at 50% 30%, rgba(108,114,201,0.20), rgba(108,114,201,0) 60%),
  radial-gradient(60% 40% at 80% 70%, rgba(128,131,174,0.18), rgba(128,131,174,0) 60%),
  linear-gradient(180deg, var(--bg-secondary), var(--bg-primary)); }
.home-bg-scrim { position: absolute; inset: 0; background: none; }
.search-tab { position: relative; width: 615px; height: 174px; margin: 0 auto; display: grid; align-items: center; z-index: 1; backdrop-filter: blur(12.2px); -webkit-backdrop-filter: blur(12.2px); }
.search-tab > svg { position: absolute; inset: 0; width: 100%; height: 100%; }
.search-tab { overflow: hidden; backdrop-filter: none; -webkit-backdrop-filter: none; }
.search-tab-content { position: relative; z-index: 1; padding: 16px 24px 16px 0; overflow: hidden; backdrop-filter: none; -webkit-backdrop-filter: none; }
.wo-raw-input { width: 100%; min-height: 74px; margin-top: 8px; outline: none; resize: vertical; background: transparent; color: var(--text-primary); font-family: 'Montserrat', system-ui, sans-serif; font-weight: 400; font-size: 20pt; line-height: 1.3; border-radius: 10px; padding: 10px 12px; transform: translate(10px, -20px); border: none; backdrop-filter: none; -webkit-backdrop-filter: none; }
.wo-raw-input::placeholder { color: rgba(255,255,255,0.7); }
.morph-textarea { background: rgba(112,113,144,0.22); border-radius: 8px; padding: 10px 12px; color: rgba(255,255,255,0.7); transform: translate(10px, -20px); backdrop-filter: blur(12.22px); -webkit-backdrop-filter: blur(12.22px); }
.morph-textarea::placeholder { color: rgba(255,255,255,0.7); }
.search-tab-group.is-morph { margin-top: -70px; }
.search-tab-hitarea { position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1; display: block; cursor: pointer; background: transparent; border: none; padding: 0; }

/* sub-search-tab removed per new design */
.sub-search-tab { display: none !important; }
.sub-search-tab > svg { position: absolute; inset: 0; width: 100%; height: 100%; }
.sub-search-content { position: relative; z-index: 1; padding: 8px 16px; }
.sub-action svg { width: 42px; height: 42px; transition: transform .15s ease, filter .2s ease, color .2s ease; }
.sub-action.action-left svg { width: 30px; height: 30px; }
.sub-action:hover svg { transform: none; filter: none; color: inherit; }
.sub-action { position: absolute; bottom: 32px; transform: none; width: 48px; height: 48px; display: grid; place-items: center; border-radius: 10px; border: 1.5px solid #D8D8E8; background: transparent; color: #D8D8E8; text-decoration: none; overflow: hidden; box-shadow: 0 0 4px rgba(0,0,0,0.25); z-index: 4; transition: filter .2s ease, box-shadow .2s ease, background-color .2s ease; }
.sub-action::before { content: ""; position: absolute; inset: 0; border-radius: 10px; background: none; opacity: 0; pointer-events: none; }
.sub-action.action-left { left: 12px; right: auto; width: 48px; height: 48px; }
.sub-action.action-right { right: 12px; left: auto; width: 48px; height: 48px; }
.sub-action::after { content: ""; position: absolute; inset: 0; border-radius: 10px; background: none; opacity: 0; pointer-events: none; }
.sub-action:hover { background: transparent; box-shadow: 0 0 4px rgba(0,0,0,0.25); color: inherit; filter: brightness(1.10); }
.sub-action:hover::after { opacity: 0; }
.sub-action:hover::before { opacity: 0; }
.sub-action:hover::after { opacity: 0; }
.sub-action-logo { width: 42px; height: 42px; display: block; background: currentColor; transition: transform .15s ease, background-color .2s ease, filter .2s ease; -webkit-mask: url('https://cdn.builder.io/api/v1/image/assets%2Fd7e7e3dd91284e2dbc17f9afe5047bd6%2F4ded1e3044704cfcb0fdb7ab3b247050') center/contain no-repeat; mask: url('https://cdn.builder.io/api/v1/image/assets%2Fd7e7e3dd91284e2dbc17f9afe5047bd6%2F4ded1e3044704cfcb0fdb7ab3b247050') center/contain no-repeat; }
.sub-action:hover .sub-action-logo { background: currentColor; transform: none; filter: none; }
.content-inner { position: relative; z-index: 1; }
/* Center CTA on sub search bar */
.sub-search-cta { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); z-index: 4; }
.button-compact { padding: 8px 16px; font-size: 13px; border-radius: 8px; }

/* Search Box - Glassmorphic styling */
.search-box {
  position: relative;
  width: 615px;
  height: 183px;
  background: rgba(47, 47, 47, 0.3); /* 30% opacity matching sidebar */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  filter: brightness(1.15); /* Brightness filter matching sidebar */
  border: 1px solid rgba(154, 150, 213, 0.3); /* Semi-transparent purple border */
  border-radius: 16px;
}

.center-viewport { min-height: 100vh; display: grid; place-items: center; padding: 24px; }
.container-card {
  width: 100%;
  max-width: 520px;
  background: var(--adaptive-card-bg, rgba(245, 245, 245, 0.05));
  border: 2px solid var(--adaptive-card-border, rgba(101, 98, 144, 0.31));
  border-radius: 16px;
  padding: 32px;
  box-shadow: 0px 0px 24.6px 0px rgba(180, 171, 204, 0.05);
  color: var(--text-primary);
}
.tech-profile-card { background: rgba(122,123,154,0.78); border: 2px solid #A1A3B9; }

/* Home hero */
.home-hero { width: 100%; max-width: 960px; margin: 0 auto; display: grid; gap: 12px; }
.search-tab-group { width: 625px; margin: 0 auto; display: grid; gap: 0; position: relative; }
.wo-title { text-align: center; color: #D8D8E8; font-weight: 600; }
.wo-search { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 8px; background: var(--bg-secondary); border: 2px solid var(--border-accent); border-radius: 10px; padding: 6px; }
.wo-icon-btn { width: 40px; height: 40px; display: grid; place-items: center; border-radius: 8px; color: var(--text-secondary); border: 1px solid var(--border-subtle); background: transparent; cursor: pointer; }
.wo-input { width: 100%; height: 40px; border: none; outline: none; background: transparent; color: var(--text-primary); padding: 0 8px; }
.wo-search-btn { width: 40px; height: 40px; display: grid; place-items: center; border-radius: 8px; background: var(--accent-primary); color: #fff; border: none; cursor: pointer; }
.home-cta { display: flex; justify-content: center; margin-top: 12px; }

/* CTA gradient variant */
.gradient-cta { background: linear-gradient(90deg, #6C72C9, #8083AE); }

.cta-muted-link { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 0; background: transparent; color: var(--text-secondary); border: none; font-weight: 600; font-size: 15px; cursor: pointer; text-decoration: none; }
.cta-muted-link:hover { color: var(--text-primary); text-decoration: underline; }
.cta-muted-link:focus { outline: 2px solid var(--border-accent); outline-offset: 2px; }

.search-container { max-width: 720px; margin: 0 auto; }
.greeting { background: linear-gradient(90deg, #FFFFFF 0%, #E8E8F2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; font-size: 24px; font-weight: 600; margin-bottom: 16px; text-align: center; }
.search-wrapper { position: relative; }
.filter-toggle { position: absolute; right: 12px; top: 50%; transform: translateY(-50%); width: 36px; height: 36px; border: 1.5px solid var(--border-subtle); border-radius: 8px; background: transparent; color: var(--text-secondary); display: grid; place-items: center; cursor: pointer; transition: color .2s ease, border-color .2s ease, background-color .2s ease; }
.filter-toggle:hover { color: var(--text-primary); border-color: var(--border-accent); background: rgba(108,114,201,0.12); }
.filter-panel { position: absolute; right: 0; top: calc(100% + 8px); width: 520px; max-width: 92vw; background: var(--bg-secondary); border: 1.5px solid var(--border-accent); border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.35); padding: 12px; z-index: 5; }
.filter-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
.filter-field { display: grid; gap: 6px; }
.filter-label { font-size: 12px; color: var(--text-secondary); font-weight: 600; }
.filter-actions { display: flex; justify-content: flex-end; gap: 8px; margin-top: 10px; }
.search-input { width: 100%; padding: 16px 48px 16px 20px; border-radius: 12px; border: 3px solid rgba(101, 98, 144, 0.4); background: #2F2F2F; color: #3C3C42; font-size: 16px; font-weight: 700; outline: none; transition: all 0.2s; }
.search-input::placeholder { color: var(--text-secondary); }
.search-input:focus { border-color: var(--accent-secondary); box-shadow: 0 0 0 4px rgba(108, 114, 201, 0.15); }
.search-icon { position: absolute; right: 16px; top: 50%; transform: translateY(-50%); color: var(--text-secondary); pointer-events: none; }
.jobs-search-input::placeholder { color: #CECECE; }

.form-grid { display: grid; gap: 20px; }
.form-field { display: grid; gap: 8px; }
.form-label { font-weight: 600; font-size: 14px; color: var(--text-primary); }
.text-input, .select-input, .textarea-input { width: 100%; padding: 12px 16px; border-radius: var(--container-border-radius); border: 1px solid var(--input-stroke-color); background: transparent; color: var(--text-primary); outline: none; transition: all 0.2s; }
.text-input:focus, .select-input:focus, .textarea-input:focus { border-color: var(--input-stroke-color); box-shadow: 0 0 0 3px rgba(108, 114, 201, 0.15); }
.textarea-input { min-height: 120px; resize: vertical; font-family: inherit; }

/* Calendar icon color for datetime-local inputs */
.text-input[type="datetime-local"]::-webkit-calendar-picker-indicator {
  filter: invert(48%) sepia(12%) saturate(1794%) hue-rotate(210deg) brightness(88%) contrast(85%);
  cursor: pointer;
}

/* Custom checkbox styling - white strokes, no fill */
input[type="checkbox"] {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  width: 18px;
  height: 18px;
  border: 2px solid rgba(255, 255, 255, 0.5);
  border-radius: 4px;
  background: transparent;
  cursor: pointer;
  position: relative;
  transition: all 0.2s;
}

input[type="checkbox"]:hover {
  border-color: rgba(255, 255, 255, 0.7);
}

input[type="checkbox"]:checked {
  border-color: rgba(255, 255, 255, 0.8);
  background: transparent;
}

input[type="checkbox"]:checked::after {
  content: '';
  position: absolute;
  left: 4px;
  top: 1px;
  width: 5px;
  height: 10px;
  border: solid rgba(255, 255, 255, 0.9);
  border-width: 0 2px 2px 0;
  transform: rotate(45deg);
}

/* Custom dropdown arrows for select inputs */
.select-input {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='rgba(255, 255, 255, 0.8)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 20px;
  padding-right: 40px;
  cursor: pointer;
}

.select-input:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='rgba(255, 255, 255, 1)' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  border-color: rgba(255, 255, 255, 0.7);
}

.header-title { font-size: 28px; font-weight: 700; margin: 0 0 12px; }
.header-subtitle { font-size: 16px; color: var(--text-secondary); margin: 0 0 24px; }

/* Button Styles - All buttons have no borders/strokes */
.primary-button { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 12px 24px; border-radius: 10px; background: transparent; color: white; border: none; font-weight: 600; font-size: 15px; cursor: pointer; transition: all 0.2s; text-decoration: none; }
.primary-button:hover { background: rgba(108, 114, 201, 0.15); transform: translateY(-1px); }
.primary-button:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

.outline-button { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 10px 20px; border-radius: 10px; background: transparent; color: var(--text-primary); border: none; font-weight: 600; font-size: 14px; cursor: pointer; transition: all 0.2s; text-decoration: none; }
.outline-button:hover { background: rgba(108, 114, 201, 0.15); color: white; }

/* Close Button - All X buttons are white */
.close-button { background: transparent; border: none; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; cursor: pointer; padding: 0; transition: all 0.2s; }
.close-button:hover { opacity: 0.7; }

/* SVG Icon Stroke Consistency - All icons have same stroke weight as X button */
svg {
  stroke-width: 1.4;
  stroke-linecap: round;
  stroke-linejoin: round;
}

/* Override for any SVG icons that specifically need different stroke weight */
svg[data-custom-stroke] {
  stroke-width: inherit;
}

.text-button { display: inline-flex; align-items: center; justify-content: center; padding: var(--btn-text-padding); background: transparent; border: none; border-radius: var(--container-border-radius); cursor: pointer; font-family: var(--font-section-title); font-weight: var(--font-section-title-weight); font-size: var(--btn-text-font-size); color: var(--btn-text-color); transition: all var(--transition-hover) ease; text-decoration: none; }
.text-button:hover { color: var(--btn-text-color-hover); transform: scale(1.05); }
.text-button:active { transform: scale(1); }

.provider-buttons { display: grid; gap: 12px; margin-top: 16px; }
.provider-button { display: inline-flex; align-items: center; justify-content: center; gap: 10px; width: 100%; padding: 12px 16px; border-radius: 10px; font-weight: 600; cursor: pointer; border: 1.5px solid var(--border-subtle); background: var(--bg-secondary); color: var(--text-primary); transition: all 0.2s; }
.provider-button:hover { border-color: var(--accent-primary); background: rgba(108, 114, 201, 0.12); }

.data-table { width: 100%; border-collapse: collapse; }
.data-table th { text-align: left; padding: 12px 16px; border-bottom: 1px solid rgba(255, 255, 255, 0.3); font-weight: 600; font-size: 13px; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; }
.data-table td { padding: 16px; border-bottom: 1px solid rgba(255, 255, 255, 0.3); }
.data-table tbody tr { transition: all var(--transition-hover); }
.data-table tbody tr:hover { background: var(--container-hover-bg); }

.score-badge { display: inline-flex; align-items: center; gap: 6px; padding: 4px 12px; border-radius: 20px; font-weight: 700; font-size: 14px; }
.score-badge.high { background: rgba(16, 185, 129, 0.2); color: var(--success); }
.score-badge.medium { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
.score-badge.low { background: rgba(239, 68, 68, 0.2); color: var(--error); }

.status-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; }
.status-dot.active { background: var(--success); }
.status-dot.inactive { background: var(--text-secondary); }

.mini-dot { width: 14px; height: 14px; border-radius: 50%; display: inline-block; }
.dot-green { background: rgba(16,185,129,0.9); }
.dot-amber { background: rgba(245,158,11,0.9); }
.dot-red { background: rgba(239,68,68,0.9); }

.inline-links { display: flex; gap: 16px; justify-content: center; margin-top: 16px; flex-wrap: wrap; }
.inline-link { color: var(--accent-secondary); text-decoration: none; font-size: 14px; transition: color 0.2s; }
.inline-link:hover { color: var(--text-primary); text-decoration: underline; }

/* Policy Modal */
.policy-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); display: grid; place-items: center; z-index: 9999; }
.policy-modal-card {
  background: var(--bg-secondary);
  border: 2px solid var(--border-accent);
  border-radius: 12px;
  width: 90%;
  max-width: 520px;
  padding: 0;
  overflow: hidden;
}

/* Technician Profile Overlay - Must be above everything */
.technician-profile-overlay { z-index: 10001 !important; }

/* Modal Header/Footer - Matches sidebar styling exactly with glassmorphic effect */
/* Used in flexbox layouts with separate scrollable content area */
.modal-header-sidebar-style {
  padding: 20px 24px;
  border-bottom: 1px solid rgba(154, 150, 213, 0.3);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: rgba(47, 47, 47, 0.3);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  flex-shrink: 0;
}

.modal-header-sidebar-style h2 {
  color: var(--section-title-color, var(--text-primary));
  font-family: var(--font-section-title);
  font-size: var(--font-section-title-size);
  font-weight: var(--font-section-title-weight);
}
.modal-footer-sidebar-style {
  padding: 16px 24px;
  border-top: 1px solid rgba(154, 150, 213, 0.3);
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  background: rgba(47, 47, 47, 0.3);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  flex-shrink: 0;
}
/* Profile modal */
.profile-modal-card { background: rgba(29,29,32,0.98); border: 2px solid var(--border-accent); border-radius: 12px; width: 90%; max-width: 720px; padding: 16px 18px; }
.profile-header { display: grid; grid-template-columns: auto 1fr auto; gap: 12px; align-items: center; margin-bottom: 8px; }
.profile-avatar { width: 56px; height: 56px; border-radius: 50%; background: rgba(108,114,201,0.25); display: grid; place-items: center; border: 2px solid rgba(214,216,237,0.56); }
.avatar-initials { font-weight: 800; color: var(--text-primary); }
.profile-summary { display: grid; gap: 2px; }
.profile-name { margin: 0; font-size: 18px; }
.profile-company, .profile-score { color: var(--text-secondary); font-size: 13px; }
.profile-score { font-size: 16px; font-weight: 700; }
.profile-details { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 8px 0 0; }
.detail { background: rgba(0,0,0,0.15); border: 1px solid var(--border-subtle); border-radius: 8px; padding: 10px; font-size: 13px; color: var(--text-secondary); }
.profile-score-row { display: inline-flex; align-items: center; gap: 8px; }
.policy-list { padding: 16px 20px; display: grid; gap: 12px; }
.policy-row { display: grid; grid-template-columns: auto 1fr auto auto auto auto; align-items: center; gap: 12px; padding: 10px 8px; border-radius: 6px; transition: background 0.2s; }
.policy-row:hover { background: rgba(108, 114, 201, 0.08); }
.policy-checkbox { width: 18px; height: 18px; cursor: pointer; accent-color: var(--accent-primary); }
.policy-name { font-weight: 600; color: var(--text-primary); }
.policy-currency, .policy-divider, .policy-amount { color: var(--text-secondary); font-size: 14px; }
.policy-amount-input { width: 120px; height: 32px; padding: 6px 8px; border-radius: 8px; border: 1px solid var(--border-subtle); background: transparent; color: var(--text-secondary); outline: none; }
.policy-amount-input:focus { border-color: var(--accent-primary); box-shadow: 0 0 0 3px rgba(108, 114, 201, 0.2); }
.policy-menu-btn { background: transparent; border: none; color: var(--text-secondary); cursor: pointer; padding: 4px; display: grid; place-items: center; }
.policy-menu-btn:hover { color: var(--text-primary); }
.policy-footer { border-top: 1px solid var(--border-subtle); padding: 12px 20px; display: flex; align-items: center; justify-content: space-between; gap: 8px; min-height: 56px; }
.policy-footer-text { font-size: 12px; color: var(--text-secondary); }

/* Checkbox Styles */
/* Custom Checkbox Styles */
.checkbox-input {
  appearance: none;
  -webkit-appearance: none;
  width: 20px;
  height: 20px;
  cursor: pointer;
  flex-shrink: 0;
  border: 2px solid var(--input-stroke-color);
  border-radius: 4px;
  background: transparent;
  position: relative;
  transition: all 0.2s ease;
}

.checkbox-input:hover {
  border-color: var(--input-stroke-color);
}

.checkbox-input:checked {
  background: rgba(108, 114, 201, 0.15);
  border-color: var(--input-stroke-color);
}

.checkbox-input:checked::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(45deg);
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 2px 2px 0;
}

.checkbox-input-small {
  appearance: none;
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  cursor: pointer;
  flex-shrink: 0;
  border: 2px solid var(--input-stroke-color);
  border-radius: 4px;
  background: transparent;
  position: relative;
  transition: all 0.2s ease;
}

.checkbox-input-small:hover {
  border-color: var(--input-stroke-color);
}

.checkbox-input-small:checked {
  background: rgba(108, 114, 201, 0.15);
  border-color: var(--input-stroke-color);
}

.checkbox-input-small:checked::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(45deg);
  width: 4px;
  height: 9px;
  border: solid white;
  border-width: 0 2px 2px 0;
}

/* Checkbox Labels */
.checkbox-label {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  padding: 12px;
  background: var(--container-bg);
  border: var(--container-border);
  border-radius: var(--container-border-radius);
  transition: all var(--transition-hover);
}

.checkbox-label.checked {
  background: rgba(255, 255, 255, 0.15);
  border: 2px solid var(--input-stroke-color);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  filter: brightness(1.15);
}

.checkbox-label:hover {
  background: var(--container-hover-bg);
}

.checkbox-label-text {
  font-weight: 600;
  font-size: var(--font-md);
  font-family: var(--font-text-body);
  color: var(--text-primary);
}

/* Endorsement Card Style (with border state) */
.checkbox-card {
  display: flex;
  align-items: center;
  gap: 12px;
  cursor: pointer;
  padding: 12px;
  background: var(--container-bg);
  border: var(--container-border);
  border-radius: var(--container-border-radius);
  transition: all var(--transition-hover);
}

.checkbox-card.checked {
  background: rgba(255, 255, 255, 0.15);
  border: 2px solid var(--input-stroke-color);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  filter: brightness(1.15);
}

.checkbox-card:hover {
  background: var(--container-hover-bg);
}

/* Compliance utilities */
.compliance-container { max-width: 1200px; margin: 0 auto; }
.compliance-header { display: flex; align-items: center; gap: 16px; margin-bottom: 8px; }
.no-margin { margin: 0; }
.section-spacer { margin-bottom: 16px; }
.search-spacer { margin-bottom: 24px; }
.tech-cell { display: flex; align-items: center; gap: 12px; }
.outline-small { font-size: 12px; padding: 6px 12px; }

/* Work order form error */
.wo-error { color: var(--error, #EF4444); font-size: 12px; margin-top: 8px; }

/* Slide-in center card */
.slide-in-center-card { position: fixed; top: 50%; left: 50%; width: 890px; height: 720px; max-width: 92vw; background: transparent; border: none; border-radius: 12px; box-shadow: none; z-index: 2; pointer-events: auto; transform: translate3d(-50%, calc(100vh + 10px), 0); animation: slideInCenterFromBelow .9s cubic-bezier(0.22, 0.61, 0.36, 1) forwards; will-change: transform; overflow: hidden; backface-visibility: hidden; transform-style: preserve-3d; contain: layout paint; } @media (max-width: 1024px) { .slide-in-center-card { width: min(890px, 92vw); height: min(720px, calc(100vh - 120px)); } }
.slide-in-center-inner { height: 100%; display: grid; place-items: start center; text-align: center; padding: 0; position: relative; }
.slide-in-title { font-weight: 700; font-size: 18px; color: var(--text-primary); }
.slide-in-sub { font-size: 14px; color: var(--text-secondary); }
.slide-in-metrics { position: absolute; bottom: 8px; right: 12px; font-size: 12px; color: var(--text-secondary); }

/* Backdrop solid overlay */
.preview-backdrop { position: fixed; inset: 0; background: rgba(21,20,19,0.85); opacity: 0; animation: backdropFadeIn .35s ease forwards; z-index: 1; pointer-events: auto; }
@keyframes backdropFadeIn { from { opacity: 0; } to { opacity: 1; } }

/* Map preview inside slide-in card */
.map-preview { display: none; }
.map-preview::after { content: ""; position: absolute; left: 0; right: 0; bottom: 0; height: 10px; pointer-events: none; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.5) 100%); }
.map-preview img { width: 100%; height: 100%; object-fit: cover; display: block; }
.map-img { display: block; }
.su-suggested-heading { position: relative; width: 680px; margin: 0 auto 20px; text-align: left; font-family: 'Montserrat', system-ui, sans-serif; font-weight: 400; font-size: 16px; color: var(--text-primary); top: 0; }
.su-info-box { position: absolute; top: -135px; left: 50%; transform: translateX(-50%); width: 736px; height: 143px; border-radius: 10px; background: rgba(122,123,151,0.78); border: 2px solid rgba(214,216,237,0.56); box-shadow: none; backdrop-filter: blur(12.2px); -webkit-backdrop-filter: blur(12.2px); }
/* Technician name tags overlay */
.map-name-tag { position: absolute; transform: translate(-50%, -100%); background: rgba(29,29,32,0.9); color: var(--text-primary); border: 1.5px solid var(--border-accent); border-radius: 8px; padding: 2px 6px; font-size: 12px; line-height: 1.2; white-space: nowrap; pointer-events: none; box-shadow: 0 0 4px rgba(0,0,0,0.25); z-index: 4; }
/* Map overlay actions and Aerial View video */
.map-overlay-actions { position: absolute; top: 8px; right: 10px; display: inline-flex; gap: 8px; z-index: 3; }
.aerial-view-media { width: 100%; height: 100%; object-fit: cover; display: block; }
@keyframes markersPopIn { 0% { transform: scale(0.2); opacity: 0.0; } 60% { transform: scale(1.08); opacity: 1; } 100% { transform: scale(1); opacity: 1; } }
.markers-pop { animation: markersPopIn 260ms cubic-bezier(0.22, 0.61, 0.36, 1) both; will-change: transform, opacity; transform-origin: center; }

/* Motion blur while the map flies */
.map-motion { filter: blur(2px) saturate(1.05); transition: filter 180ms ease; }
.map-fallback { width: 100%; height: 100%; display: grid; place-items: center; color: var(--text-secondary); font-size: 14px; }
.wo-address-line { position: absolute; right: 10px; bottom: 5px; display: grid; gap: 4px; text-align: right; }
.addr-text { color: var(--text-primary); font-weight: 600; font-size: 14px; }
.addr-city { color: var(--text-secondary); font-size: 12px; }

/* Map legend overlay */
.map-legend { position: absolute; left: 10px; bottom: 8px; display: inline-flex; align-items: center; gap: 12px; background: rgba(29,29,32,0.9); border: 1.5px solid var(--border-accent); border-radius: 8px; padding: 6px 10px; }
.legend-item { display: inline-flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text-secondary); }
.legend-swatch { width: 10px; height: 10px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.08); display: inline-block; }
.legend-job { background: var(--error); }
.legend-tech { background: #3B82F6; }

/* Technician strips stage inside preview card */
.reveal-stage { position: relative; width: 100%; margin-top: 20px; }
.reveal-mask { position: absolute; top: -45px; left: 0; right: 0; height: 45px; background: var(--bg-secondary); z-index: 2; pointer-events: none; }
.reveal-mask::after { content: ""; position: absolute; left: 10px; right: 10px; top: 45px; height: 0; box-shadow: 0 4px 3.5px rgba(124, 111, 130, 0.25); }
.tech-strip-list { display: grid; gap: 8px; place-items: start; position: relative; width: 570px; margin: 0 auto; --row-h: 42px; --row-gap: 8px; }
.tech-scrollbar { position: absolute; right: -24px; top: 0; width: 9px; height: 146px; background: #3A3A40; border-radius: 100px; }

/* Skeleton placeholder style */
.tech-strip.skeleton { position: relative; background: transparent; border-color: #A1A3B9; color: transparent; animation: none; }
.tech-strip.skeleton * { color: transparent !important; }
.tech-strip.skeleton::before { content: ""; position: absolute; inset: 2px; border-radius: 7px; background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.18), rgba(255,255,255,0.04)); transform: translateX(-100%); animation: shimmer 1.1s ease-in-out infinite; }
.tech-strip.skeleton::after { content: ""; position: absolute; inset: 0; border-radius: 9px; padding: 2px; background: conic-gradient(from 0deg, rgba(214,216,237,0.7) 0deg, rgba(214,216,237,0.0) 60deg, rgba(214,216,237,0.0) 260deg, rgba(214,216,237,0.7) 360deg); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; animation: spinBorder 1.1s linear infinite; pointer-events: none; }
@keyframes shimmer { 100% { transform: translateX(100%); } }
@keyframes spinBorder { to { transform: rotate(360deg); } }
.tech-strip { position: relative; width: 570px; height: 42px; margin: 0; background: rgba(122,123,154,0.78); border: 2px solid #A1A3B9; border-radius: 6px; display: grid; grid-template-columns: 1fr 48px auto auto; align-items: center; padding: 0 50px; gap: 12px; opacity: 0; animation: fadeInCard var(--anim-dur, 0.25s) ease var(--anim-delay, 0s) forwards; will-change: opacity; box-shadow: 0 4px 4px rgba(0,0,0,0.24); transition: background-color .2s ease, border-color .2s ease, box-shadow .2s ease; backdrop-filter: none; -webkit-backdrop-filter: none; font-family: 'Inter', system-ui, sans-serif; }
.tech-strip:hover { background: rgba(122,123,151,0.88); border-color: var(--border-accent); box-shadow: 0 6px 10px rgba(0,0,0,0.28); }
.tech-strip-list > .tech-strip:nth-child(1) { --stack-offset: 0px; z-index: 5; }
.tech-strip-list > .tech-strip:nth-child(2) { --stack-offset: calc(-1 * (var(--row-h) + var(--row-gap))); z-index: 4; }
.tech-strip-list > .tech-strip:nth-child(3) { --stack-offset: calc(-2 * (var(--row-h) + var(--row-gap))); z-index: 3; }
.tech-strip-list > .tech-strip:nth-child(4) { --stack-offset: calc(-3 * (var(--row-h) + var(--row-gap))); z-index: 2; }
.tech-strip-list > .tech-strip:nth-child(5) { --stack-offset: calc(-4 * (var(--row-h) + var(--row-gap))); z-index: 1; }

.tech-ident { display: grid; gap: 0; text-align: left; min-width: 0; position: relative; z-index: 1; }
.tech-name { font-weight: 700; font-size: 14px; color: var(--text-primary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; line-height: 1.1; margin: 2px 0 0; }
.tech-distance { font-size: 12px; color: var(--text-secondary); margin-top: -4px; line-height: 1.1; }

.tech-lights { display: inline-flex; align-items: center; gap: 10px; justify-content: center; position: relative; z-index: 1; }
.light-dot { width: 16px; height: 16px; border-radius: 50%; border: 2px solid rgba(255,255,255,0.08); }

.tech-rating { font-size: 16px; font-weight: 700; text-align: center; min-width: 40px; position: relative; z-index: 1; }
.score-high { color: #83F2BD; }
.score-med { color: #FAC385; }
.score-low { color: var(--error); }
.tech-score-block { display: inline-flex; align-items: center; gap: 8px; justify-content: center; }
.score-reasons-link { background: transparent; border: none; padding: 0; margin: 0; cursor: pointer; font-weight: 700; font-size: 16px; text-decoration: underline; color: inherit; }

.tech-reasons { display: none; }

.tech-assign { display: none; }

.tech-name-link { appearance: none; background: transparent; border: none; padding: 0; margin: 0; cursor: pointer; text-align: left; color: var(--text-primary); font: inherit; }
.tech-name-link:hover .tech-name { text-decoration: underline; }

.tech-actions { display: flex; justify-content: flex-end; }
.profile-cta { appearance: none; background: transparent; color: var(--text-primary); border: none; border-radius: 4px; padding: 6px 12px; font-size: 13px; font-weight: 400; cursor: pointer; text-decoration: underline; opacity: 0.7; transition: opacity .2s ease, color .2s ease; }
.profile-cta:hover { background: transparent; color: var(--text-primary); }

@keyframes unstackDown { 0% { opacity: 0; transform: translateY(var(--stack-offset, 0)); } 60% { opacity: 1; transform: translateY(calc(var(--stack-offset, 0) * 0.35)); } 100% { opacity: 1; transform: translateY(0); } }

@keyframes fadeInCard { from { opacity: 0; } to { opacity: 1; } }

/* Content reveal from within after skeleton phase */
.tech-strip.revealing::before { content: none; }
@keyframes cardWipe { to { clip-path: inset(0 0 100% 0); } }

@keyframes slideInCenterFromBelow { 0% { opacity: 0; transform: translate3d(-50%, calc(100vh + 10px), 0); } 100% { opacity: 1; transform: translate3d(-50%, calc(-50% + 20px), 0); } }

@media (max-width: 768px) {
  .search-tab-group { width: 92vw; position: relative; }
  .search-tab { width: 90vw; }
  .tech-strip-list { width: 90vw; }
  .tech-strip { width: 90vw; }
  .search-tab-hitarea { bottom: 59.3px; }
  .sub-search-tab { width: calc(90vw + 4px); left: 50%; transform: translateX(-50%); top: 171px; }
  .sub-action { width: 46px; height: 46px; }
  .sidebar { display: none; }
  .main-content { margin-left: 0; }
  /* top-bar removed on mobile as well */
  .content-area { padding: 20px 16px; }
  .container-card { padding: 24px; }
  .header-title { font-size: 24px; }
  .auth-buttons { gap: 8px; }
  .outline-button { padding: 8px 14px; font-size: 13px; }
  .policy-modal-card { width: 95%; max-width: none; }
}

/* Footer */
.site-footer { border-top: 1px solid var(--border-subtle); background: var(--bg-secondary); }
.footer-inner { max-width: 1200px; margin: 0 auto; padding: 24px 32px; display: grid; gap: 12px; grid-template-columns: 1fr auto 1fr; align-items: center; }
.footer-brand .brand-name { color: var(--accent-secondary); }
.footer-tag { color: var(--text-secondary); margin: 4px 0 0; font-size: 13px; }
.footer-links { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
.footer-link { color: var(--accent-secondary); text-decoration: none; font-size: 14px; }
.footer-link:hover { color: var(--text-primary); text-decoration: underline; }
.footer-contact { text-align: right; color: var(--text-secondary); font-size: 13px; }
.footer-contact-line { margin: 2px 0; }
.footer-bottom { border-top: 1px solid var(--border-subtle); padding: 12px 32px; text-align: center; color: var(--text-secondary); font-size: 12px; }

/* Landing */
.landing-hero { max-width: 1100px; margin: 0 auto 24px; padding: 24px 0 8px; text-align: center; display: grid; gap: 12px; }
.landing-hero-ctas { display: flex; gap: 12px; justify-content: center; }
.go-search-fab { position: fixed; top: 16px; right: 24px; z-index: 10; }
.landing-values { max-width: 1100px; margin: 0 auto 24px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.value-card { background: var(--bg-card); border: 1px solid var(--border-accent); border-radius: 12px; padding: 20px; }
.value-title { font-weight: 700; margin-bottom: 6px; }
.value-copy { color: var(--text-secondary); font-size: 14px; }
.landing-testimonials { max-width: 1100px; margin: 0 auto 24px; }
.section-title { font-size: 20px; font-weight: 700; margin: 0 0 12px; text-align: center; }
.section-subtitle { color: var(--text-secondary); font-size: 14px; text-align: center; margin: -8px 0 12px; }
.testimonial-list { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.testimonial-card { background: var(--bg-card); border: 1px solid var(--border-accent); border-radius: 12px; padding: 20px; }
.testimonial-name { font-weight: 700; margin-bottom: 6px; }
.testimonial-quote { color: var(--text-secondary); font-size: 14px; }
.landing-dashboard { max-width: 1100px; margin: 0 auto 24px; display: grid; place-items: center; }
.dashboard-copy { width: 100%; max-width: 720px; text-align: center; }

/* Search results positioning */
.search-results-layout { padding-top: 2px; }
.search-results-layout .search-tab-group.is-morph { position: static; margin: 0 auto; }
.search-results-layout .suggested-vendors-label { position: relative; left: -180px; top: 10px; text-align: left; margin: 5px 0; font-family: 'Montserrat', system-ui, sans-serif; font-weight: 400; font-size: 18px; color: #FFFFFF; display: flex; align-items: center; }
.search-results-layout .tech-strip-list { margin: 0 auto; }
.search-results-layout .morph-tech-stage { padding-top: 0; }

/* Morph stage after create */
.morph-stage { width: 100%; max-width: 890px; margin: 40px auto 0; display: grid; gap: 30px; place-items: center; animation: morphStageIn .5s ease both; }
.morph-box { width: 680px; min-height: 120px; border-radius: 10px; background: transparent; border: none; padding: 16px; animation: morphBoxPop .5s cubic-bezier(0.22,0.61,0.36,1) both; }
.morph-textarea { width: 100%; min-height: 88px; outline: none; resize: vertical; background: transparent; color: var(--text-primary); font-family: 'Montserrat', system-ui, sans-serif; font-weight: 400; font-size: 20pt; border-radius: 10px; padding: 10px 12px; border: none; transform: translate(10px, -20px); backdrop-filter: none; -webkit-backdrop-filter: none; }
.morph-tech-stage { width: 100%; display: grid; place-items: center; }
.morph-tech-stage .tech-strip-list { margin-top: 30px; }
@keyframes morphStageIn { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: none; } }
@keyframes morphBoxPop { from { opacity: 0; transform: scale(0.96);} 60% { opacity: 1; transform: scale(1.02);} to { opacity: 1; transform: scale(1);} }

@media (max-width: 900px) {
  .landing-values { grid-template-columns: 1fr; }
  .testimonial-list { grid-template-columns: 1fr; }
}

/* Added: Auth buttons styled like search tab and header profile avatar */
.auth-cta-button { width: 91px; height: 35px; display: inline-flex; align-items: center; justify-content: center; border-radius: 10px; background: rgba(122,123,154,0.78); border: 2px solid rgba(238,240,255,0.36); color: var(--text-primary); font-weight: 700; text-decoration: none; backdrop-filter: blur(12.22px); -webkit-backdrop-filter: blur(12.22px); }
.auth-cta-button:hover { filter: brightness(1.03); opacity: 1; }

.header-profile { position: relative; }
.header-profile-button { width: 40px; height: 40px; border-radius: 50%; background: rgba(167,168,187,0.78); border: 2px solid rgba(238,240,255,0.36); display: grid; place-items: center; color: #1D1D20; cursor: pointer; backdrop-filter: blur(12.22px); -webkit-backdrop-filter: blur(12.22px); }
.header-profile-initials { font-family: 'Montserrat', system-ui, sans-serif; font-weight: 700; font-size: 14px; line-height: 1; color: #FFFFFF; }
.profile-menu { position: absolute; right: 0; top: calc(100% + 8px); min-width: 160px; background: var(--bg-secondary); border: 1.5px solid var(--border-accent); border-radius: 10px; padding: 6px; display: grid; gap: 4px; z-index: 100; }
.profile-menu-item { display: block; width: 100%; background: transparent; color: var(--text-primary); border: none; text-align: left; padding: 8px 10px; border-radius: 8px; text-decoration: none; cursor: pointer; }
.profile-menu-item:hover { background: rgba(108,114,201,0.12); }

/* a11y */
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }

/* Dark-themed static map for search-2 state */
.search-map-circle {
  position: absolute;
  left: 736px;
  top: 653px;
  width: 217px;
  height: 217px;
  border-radius: 50%;
  overflow: hidden;
  z-index: 0;
}

.search-map-circle .map-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

/* Radial gradient overlay - creates vignette effect */
.search-map-circle::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(47, 47, 47, 0) 0%,
    rgba(48, 48, 48, 1) 100%
  );
  pointer-events: none;
  z-index: 1;
}

/* Shimmer loading animation for parser */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.shimmer-loading {
  animation: shimmer 2s infinite linear;
  background: linear-gradient(
    90deg,
    rgba(101, 98, 144, 0.1) 0%,
    rgba(101, 98, 144, 0.3) 50%,
    rgba(101, 98, 144, 0.1) 100%
  );
  background-size: 1000px 100%;
  pointer-events: none;
  opacity: 0.6;
}

/* Cursor blink animation for typing effect */
@keyframes blink {
  0%, 49% {
    opacity: 1;
  }
  50%, 100% {
    opacity: 0;
  }
}

/* Shimmer animation for loading text */
@keyframes shimmer {
  0% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.5;
  }
}

/* Flickering white light during typing */
@keyframes flicker {
  0%, 100% {
    opacity: 0.3;
    box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
  }
  10% {
    opacity: 0.8;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
  }
  20% {
    opacity: 0.2;
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
  }
  30% {
    opacity: 0.9;
    box-shadow: 0 0 25px rgba(255, 255, 255, 0.9);
  }
  40% {
    opacity: 0.4;
    box-shadow: 0 0 12px rgba(255, 255, 255, 0.4);
  }
  60% {
    opacity: 0.7;
    box-shadow: 0 0 18px rgba(255, 255, 255, 0.7);
  }
  80% {
    opacity: 0.5;
    box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
  }
}

/* Blinking cursor animation */
@keyframes blink {
  0%, 49% {
    opacity: 1;
  }
  50%, 100% {
    opacity: 0;
  }
}

/* Pulse animation for loading dots */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(1.2);
  }
}

/* ============================================
   MOBILE RESPONSIVE DESIGN
   ============================================ */

/* Tablet and smaller (< 1024px) */
@media (max-width: 1024px) {
  .content-area {
    padding: 20px 16px;
  }

  .container-card {
    padding: 20px;
  }

  .header-title {
    font-size: 24px;
  }

  .data-table {
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .data-table table {
    min-width: 600px;
  }
}

/* Mobile (< 768px) */
@media (max-width: 768px) {
  /* Hide sidebar on mobile */
  .sidebar {
    transform: translateX(-100%);
    transition: transform 0.3s ease;
  }

  .sidebar.mobile-open {
    transform: translateX(0);
  }

  /* Adjust content for no sidebar */
  .content-area {
    margin-left: 0;
    padding: 16px 12px;
  }

  /* Stack header items */
  .header {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .auth-buttons {
    width: 100%;
    justify-content: flex-end;
  }

  /* Smaller cards */
  .container-card {
    padding: 16px;
    border-radius: 12px;
  }

  /* Smaller titles */
  .header-title {
    font-size: 20px;
  }

  .header-subtitle {
    font-size: 13px;
  }

  /* Stack form fields */
  .form-grid {
    grid-template-columns: 1fr !important;
  }

  /* Full width buttons */
  .primary-button,
  .outline-button {
    width: 100%;
  }

  /* Smaller search box */
  .search-box {
    width: 100% !important;
    height: 160px !important;
    padding: 16px !important;
  }

  .greeting {
    font-size: 20px !important;
    width: 100% !important;
  }

  /* Mobile table improvements */
  .data-table {
    font-size: 13px;
  }

  .data-table th,
  .data-table td {
    padding: 8px 6px;
  }

  /* Smaller badges and buttons */
  .score-badge {
    font-size: 11px;
    padding: 3px 8px;
  }

  .outline-button.outline-small {
    font-size: 11px;
    padding: 4px 10px;
  }

  /* Stack filter fields */
  .filter-grid {
    grid-template-columns: 1fr !important;
  }

  /* Mobile friendly empty states */
  .empty-state {
    padding: 32px 16px;
  }

  .empty-state h3 {
    font-size: 18px;
  }

  .empty-state p {
    font-size: 13px;
  }
}

/* Small mobile (< 480px) */
@media (max-width: 480px) {
  .content-area {
    padding: 12px 8px;
  }

  .container-card {
    padding: 12px;
    border-radius: 8px;
  }

  .header-title {
    font-size: 18px;
  }

  .search-box {
    height: 140px !important;
  }

  .greeting {
    font-size: 18px !important;
  }

  .data-table {
    font-size: 12px;
  }

  .data-table th,
  .data-table td {
    padding: 6px 4px;
  }

  /* Very compact buttons */
  .primary-button,
  .outline-button {
    padding: 10px 16px;
    font-size: 13px;
  }
}

/* ============================================================================
   CREATE JOB OVERLAY - Desktop sidebar offset
   ============================================================================ */

/* Desktop: Start after sidebar (268px) */
.create-job-overlay {
  left: 268px;
}

/* Mobile: Full width (override in mobile-responsive.css with left: 0) */

/* ============================================================================
   DESIGN SYSTEM LAYOUT RULES
   ============================================================================ */

/* Container Width Variables - Use for consistent vertical stacking */
/* Vertically stacked containers MUST use the same width variable */

/* Typography - Balanced Text (No Orphans)
   Lines should appear equal in length, avoid single words on last line */
.balanced-text {
  text-wrap: balance;
  word-break: keep-all;
}

/* Two-Column Layout System
   - Gap: 60px between columns
   - Ratio: Equal width (50/50)
   - Responsive: Stack vertically on mobile (<768px) */
.two-column-layout {
  display: flex;
  gap: 60px;
  max-width: 1200px;
  margin: 0 auto;
}

.two-column-layout > .column {
  flex: 1;
  min-width: 0;
}

/* Section Header Pattern
   Title/subtitle with companion element at right edge
   Only use when text doesn't fill container width (for visual balance) */
.section-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: var(--spacing-lg);
  width: 100%;
}

.section-header-text {
  flex: 1;
}

.section-header-action {
  flex-shrink: 0;
}

/* Mobile responsive for two-column layout */
@media (max-width: 768px) {
  .two-column-layout {
    flex-direction: column;
    gap: var(--spacing-xl);
  }
}

/* Template name with shrinking on mobile */
.template-name-shrink {
  font-size: var(--font-md);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}

@media (max-width: 768px) {
  .template-name-shrink {
    font-size: clamp(9px, 2.8vw, 12px);
  }
}

/* Searchbox text pulse - ONE TIME pulse when compliance is applied */
/* Only the text pulses once, not the whole container */
.searchbox-shimmer .search-input {
  animation: text-pulse-once 0.6s ease-in-out forwards;
}

@keyframes text-pulse-once {
  0% {
    color: rgba(205, 205, 229, 0.7);
  }
  50% {
    color: rgba(255, 255, 255, 1);
    text-shadow: 0 0 12px rgba(101, 98, 144, 0.6);
  }
  100% {
    color: rgba(205, 205, 229, 0.7);
  }
}

/* Searchbox shimmer loading effect - shows when parsing after Enter */
.searchbox-parsing {
  position: relative;
  overflow: hidden;
}

.searchbox-parsing::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    transparent 0%,
    rgba(101, 98, 144, 0.15) 25%,
    rgba(101, 98, 144, 0.3) 50%,
    rgba(101, 98, 144, 0.15) 75%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: shimmer-sweep 1.5s infinite linear;
  pointer-events: none;
  border-radius: inherit;
  z-index: 1;
}

@keyframes shimmer-sweep {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Shield icon pulse animation when compliance applied */
.shield-active {
  animation: shield-pulse 2s infinite ease-in-out;
}

@keyframes shield-pulse {
  0%, 100% {
    filter: drop-shadow(0 0 0 rgba(16, 185, 129, 0));
  }
  50% {
    filter: drop-shadow(0 0 8px rgba(16, 185, 129, 0.5));
  }
}

/* Policy applied badge for searchbox */
.policy-applied-badge {
  display: flex;
  align-items: center;
  gap: var(--spacing-xs);
  padding: var(--spacing-xs) var(--spacing-sm);
  background: rgba(16, 185, 129, 0.15);
  border: 1px solid rgba(16, 185, 129, 0.3);
  border-radius: var(--btn-corner-radius);
  font-size: var(--font-xs);
  font-weight: var(--font-weight-semibold);
  color: #10B981;
  position: absolute;
  top: var(--spacing-sm);
  right: var(--spacing-sm);
}
